plan_sem_05


00. - str_ops_03 vs /04/out_of_mem - обсудить различия
   - Экономия байт. обсудить инициализацию памяти, если не по порядку.

01. - Вспоминаем reflect_input . Переходим к int_to_string
02. - ek_int_2_str

03. - reflect_input 0-4 
     - Нарушение вывода при изменении порядка инициализации памяти.  
     - 0-1 ДОбавление сегмента (readable + writable) дает прирост в объеме в 32 байта.
     - После чтения по int 0x80 Получаем длину строки в eax !
     - 1-2 Экономия 3 байт
     - Проверить размер у 02, если вернуть порядок инициализации.
     - дополнительный вывод числа символов, введенных пользователем.

04. input_str_reverse
     -  Реверс строки, введенной пользователем.

05. rdtsc_02 
     - смотрим порядок байт, записанных в файл. Подсчитываем байты.
   rdtsc_03
     - правильная запись данных в esi, правильное заполнение файла - 24 байта.
   rdtsc_04
     - Другой способ формирования адреса в esi (экономия в 3 байта)
       смотрим на [esi+16/20/24/] - 28 байт
   rdtsc_05 
     - Добавили подсчет разницы между двума rdtsc. 
     - Преобразовали эту разницу в строку
     - Вывели строку.
 

06. rdtscp
     - смотрим номер ядра, выполнившего программу.

07. rdtscp_02
     - Вывод разницы количества тиков с использованием sub, sbb 

08. rdtscp_03
     - Проверяем, что внутри 1 программы ядро не меняется, если меняется - выводим сообщение.

09   - hex-2-str.fasm Пример преобразования dword hex-данных в их строковое представление.
     - hex-dword-2-str.inc - Функция преобразования dword hex-данных в их строковое представление.
     - Еще надо доработать так, чтобы ф-ция принимала 2х32 бита, а возвращала 1 строку в 17 символов (с переводом строки),
       hex-quad-word-2-str. rdtscp_05

10   - Сделать пример по инструкциям DAS DAA !!!!!



11. rdtscp_04 
     - Сохраняем данные тиков в памяти и делаем вычитание "в лоб", сравниваем.
     - А для этой задачи необходимо преобразовывать hex-данные в их строковое представление. (сделано, см. п.09)
     - rdtscp_05 - Вывод 1й rdscp в hex-виде
     - rdtscp_06 - Вывод 1й + 2й rdscp в hex-виде - РАБОЧИЙ ВАРИАНТ.
     - rdtscp_07 - Добавить вывод номера ядра, чтобы было понятно, почему иногда разница сильно отличается от предыдущей (ядра разные) [сделано]


5. Обзор скрипта middle.bash

6. Сортировка вывода. Выборка первого и последнего значения. head, tail

 

   ; cpu_1 to string
   mov edi, cpu_1
   mov eax, cpu_1_val
   call int_to_string
   ; now in dl is the length of string representing the digital value
   ; but we ha ve to store it while edx is being in used
   mov [cpu_1_val], dl

   mov eax,4
   mov ebx,1
   mov ecx, cpu_start
   mov dl, [sz_cpu_start] 
   int 0x80
   
   mov eax,4
   mov ebx,1
   mov ecx, cpu_1
   mov dl, [cpu_1_val]
   int 0x80




   mov edi, cpu_2
   mov eax, cpu_2_val
   call int_to_string
   mov [sz_cpu_fin], dl

   mov eax,4
   mov ebx,1
   mov ecx, cpu_2
   mov dl, [sz_cpu_fin]
   int 0x80

